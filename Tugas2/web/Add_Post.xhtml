<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Add New Post</title>
        <meta name="viewport" content="width=device-width"/>
        <link rel ="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/resources/style.css" />
    </h:head>
    <h:body>
        <f:event type="preRenderView" listener="#{user.notAdminNotOwnerRedirectToPub()}" />
        #{post.makeEmpty()}
        <div id="menubar" class="bluegrad">
            <div id="menulist">
                <ul>
                    <li><a href="#{facesContext.externalContext.requestContextPath}/">Home</a></li>
                    <li style="display:#{user.addButton()}"><a href="Add_Post.xhtml">Add Post +</a></li>
                    <li style="display:#{user.logInButton()}"><a href="#loginModal">Login</a></li>
                    <li style="display:#{user.logOutButton()}"><a href="#logoutModal">Logout</a></li>
                    <li><a href=""><h:outputText value="#{user.name}"/></a></li>
                </ul>
            </div>
        </div>
        <div id="container" class="postmanip">
            <ui:include src="Topbar.xhtml" />
            <div id="body">
                <div id="rightContainer">
                    <h:form id="inputanpos" onsubmit="return validateForm()">
                        <h:inputText a:placeholder="Judul Pos" id="Judul" value="#{post.judul}"/><br/>
                        <h:inputText a:placeholder="yyyy-mm-dd" id="Tanggal" value="#{post.tanggal}"/><br/>
                        <h:inputTextarea a:placeholder="Konten Pos" id="Konten" value="#{post.konten}"/><br/>
                        <h:commandButton class="button" id="add" value="Add" action="#{dbconnector.insertPost(user,post)}"/><br/>
                        <br/>
                    </h:form>
                </div>
            </div>
            <div id="footer">
                <div id="idlist">
                    <div class="identity left">Andre Susanto - 13512028</div>
                    <div class="identity">Jeffrey Lingga - 13512059</div>
                    <div class="identity right">Adhika Sigit - 13512060</div>
                </div>
            </div>
        </div>
        <ui:include src="logmodals.xhtml" />
    </h:body>
    <script src="#{facesContext.externalContext.requestContextPath}/resources/js/validator.js" type="text/javascript"></script>
</html>
